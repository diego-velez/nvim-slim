-- The font used for these is Shaded Blocky
-- See https://patorjk.com/software/taag/
local days = {
  ['0'] = [[

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░      ░░░  ░░░░  ░░   ░░░  ░░       ░░░░      ░░░  ░░░░  ░
▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒    ▒▒  ▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒  ▒▒  ▒▒
▓▓      ▓▓▓  ▓▓▓▓  ▓▓  ▓  ▓  ▓▓  ▓▓▓▓  ▓▓  ▓▓▓▓  ▓▓▓▓    ▓▓▓
███████  ██  ████  ██  ██    ██  ████  ██        █████  ████
██      ████      ███  ███   ██       ███  ████  █████  ████
████████████████████████████████████████████████████████████
]],
  ['1'] = [[

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░  ░░░░  ░░░      ░░░   ░░░  ░░       ░░░░      ░░░  ░░░░  ░
▒   ▒▒   ▒▒  ▒▒▒▒  ▒▒    ▒▒  ▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒  ▒▒  ▒▒
▓        ▓▓  ▓▓▓▓  ▓▓  ▓  ▓  ▓▓  ▓▓▓▓  ▓▓  ▓▓▓▓  ▓▓▓▓    ▓▓▓
█  █  █  ██  ████  ██  ██    ██  ████  ██        █████  ████
█  ████  ███      ███  ███   ██       ███  ████  █████  ████
████████████████████████████████████████████████████████████
]],
  ['2'] = [[

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░        ░░  ░░░░  ░░        ░░░      ░░░       ░░░░      ░░░  ░░░░  ░
▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒  ▒▒  ▒▒
▓▓▓▓  ▓▓▓▓▓  ▓▓▓▓  ▓▓      ▓▓▓▓▓      ▓▓▓  ▓▓▓▓  ▓▓  ▓▓▓▓  ▓▓▓▓    ▓▓▓
████  █████  ████  ██  ██████████████  ██  ████  ██        █████  ████
████  ██████      ███        ███      ███       ███  ████  █████  ████
██████████████████████████████████████████████████████████████████████
]],
  ['3'] = [[

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░  ░░░░  ░░        ░░       ░░░   ░░░  ░░        ░░░      ░░░       ░░░░      ░░░  ░░░░  ░
▒  ▒  ▒  ▒▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒    ▒▒  ▒▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒  ▒▒  ▒▒
▓        ▓▓      ▓▓▓▓  ▓▓▓▓  ▓▓  ▓  ▓  ▓▓      ▓▓▓▓▓      ▓▓▓  ▓▓▓▓  ▓▓  ▓▓▓▓  ▓▓▓▓    ▓▓▓
█   ██   ██  ████████  ████  ██  ██    ██  ██████████████  ██  ████  ██        █████  ████
█  ████  ██        ██       ███  ███   ██        ███      ███       ███  ████  █████  ████
██████████████████████████████████████████████████████████████████████████████████████████
]],
  ['4'] = [[

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░        ░░  ░░░░  ░░  ░░░░  ░░       ░░░░      ░░░       ░░░░      ░░░  ░░░░  ░
▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒  ▒▒  ▒▒
▓▓▓▓  ▓▓▓▓▓        ▓▓  ▓▓▓▓  ▓▓       ▓▓▓▓      ▓▓▓  ▓▓▓▓  ▓▓  ▓▓▓▓  ▓▓▓▓    ▓▓▓
████  █████  ████  ██  ████  ██  ███  █████████  ██  ████  ██        █████  ████
████  █████  ████  ███      ███  ████  ███      ███       ███  ████  █████  ████
████████████████████████████████████████████████████████████████████████████████
]],
  ['5'] = [[

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░        ░░       ░░░        ░░       ░░░░      ░░░  ░░░░  ░
▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒  ▒▒  ▒▒
▓      ▓▓▓▓       ▓▓▓▓▓▓  ▓▓▓▓▓  ▓▓▓▓  ▓▓  ▓▓▓▓  ▓▓▓▓    ▓▓▓
█  ████████  ███  ██████  █████  ████  ██        █████  ████
█  ████████  ████  ██        ██       ███  ████  █████  ████
████████████████████████████████████████████████████████████
]],
  ['6'] = [[

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░░      ░░░░      ░░░        ░░  ░░░░  ░░       ░░░       ░░░░      ░░░  ░░░░  ░
▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒  ▒▒  ▒▒
▓▓      ▓▓▓  ▓▓▓▓  ▓▓▓▓▓  ▓▓▓▓▓  ▓▓▓▓  ▓▓       ▓▓▓  ▓▓▓▓  ▓▓  ▓▓▓▓  ▓▓▓▓    ▓▓▓
███████  ██        █████  █████  ████  ██  ███  ███  ████  ██        █████  ████
██      ███  ████  █████  ██████      ███  ████  ██       ███  ████  █████  ████
████████████████████████████████████████████████████████████████████████████████
]],
}

local footer = [[
░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░       ░░░  ░░░░  ░░        ░░░░░░░░░░░░░      ░░░   ░░░  ░
▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒    ▒▒  ▒
▓  ▓▓▓▓  ▓▓▓  ▓▓  ▓▓▓▓▓▓  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓  ▓▓▓▓  ▓▓  ▓  ▓  ▓
█  ████  ████    ███████  ███████████████  ████  ██  ██    █
█       ██████  ████████  ████████████████      ███  ███   █
████████████████████████████████████████████████████████████

░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
░   ░░░  ░░        ░░░      ░░░  ░░░░  ░░        ░░  ░░░░  ░
▒    ▒▒  ▒▒  ▒▒▒▒▒▒▒▒  ▒▒▒▒  ▒▒  ▒▒▒▒  ▒▒▒▒▒  ▒▒▒▒▒   ▒▒   ▒
▓  ▓  ▓  ▓▓      ▓▓▓▓  ▓▓▓▓  ▓▓▓  ▓▓  ▓▓▓▓▓▓  ▓▓▓▓▓        ▓
█  ██    ██  ████████  ████  ████    ███████  █████  █  █  █
█  ███   ██        ███      ██████  █████        ██  ████  █
████████████████████████████████████████████████████████████
]]

local days_no_nerd_font = {
  ['0'] = 'Sunday',
  ['1'] = 'Monday',
  ['2'] = 'Tuesday',
  ['3'] = 'Wednesday',
  ['4'] = 'Thursday',
  ['5'] = 'Friday',
  ['6'] = 'Saturday',
}

local starter = require 'mini.starter'
starter.setup {
  header = vim.g.have_nerd_font and days[os.date '%w']
    or string.format('It is %s!', days_no_nerd_font[os.date '%w']),
  footer = vim.g.have_nerd_font and footer or 'DVT on Neovim',
  items = {
    starter.sections.recent_files(5, true, false),
    starter.sections.recent_files(10, false, false),
    {
      { name = 'New buffer', action = 'enew', section = 'Builtin actions' },
      { name = 'Quit Neovim', action = 'qall', section = 'Builtin actions' },
    },
  },
  content_hooks = {
    starter.gen_hook.adding_bullet '┃ ',
    starter.gen_hook.aligning('center', 'center'),
  },
}

local augroup = vim.api.nvim_create_augroup('DVT Starter', { clear = true })
vim.api.nvim_create_autocmd('VimEnter', {
  desc = 'Disable mini.statusline for mini.starter when opening Neovim',
  group = augroup,
  callback = function(args)
    local ft = vim.bo[args.buf].filetype
    if ft == 'ministarter' then
      vim.b[args.buf].ministatusline_disable = true
    end
  end,
})

vim.api.nvim_create_autocmd('User', {
  desc = 'Disable mini.statusline for mini.starter',
  pattern = 'MiniStarterOpened',
  group = augroup,
  callback = function(args)
    vim.b[args.buf].ministatusline_disable = true
  end,
})
